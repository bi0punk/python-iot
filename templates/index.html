<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Arduino</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>
    <h1>Control de Arduino</h1>
    
    <form action="/command" method="post">
        <button type="submit" name="command" value="on1">Encender Dispositivo 1</button>
        <button type="submit" name="command" value="off1">Apagar Dispositivo 1</button>
        <br>
        <button type="submit" name="command" value="on2">Encender Dispositivo 2</button>
        <button type="submit" name="command" value="off2">Apagar Dispositivo 2</button>
        <br>
        <!-- Agrega más botones según sea necesario -->
        <button type="submit" name="command" value="on3">Encender Dispositivo 3</button>
        <button type="submit" name="command" value="off3">Apagar Dispositivo 3</button>
        <br>
        <button type="submit" name="command" value="on4">Encender Dispositivo 4</button>
        <button type="submit" name="command" value="off4">Apagar Dispositivo 4</button>
    </form>
    
    <div id="sensorData">
        <!-- La respuesta del sensor se mostrará aquí -->
    </div>

    <script>
        // Función para actualizar dinámicamente la página cada minuto
        function updateSensorData() {
            $.get("/command?command=read_humidity", function(data) {
                $("#sensorData").html(data);
            });
        }

        // Llamar a la función de actualización inicialmente y luego cada minuto
        updateSensorData();
        setInterval(updateSensorData, 60000); // 60000 milisegundos = 1 minuto
    </script>

</body>
</html>
